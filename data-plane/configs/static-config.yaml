# =============================================================================
# Data Plane Static Configuration
# =============================================================================
# This file provides fallback/standalone configuration when control plane
# is unavailable or when running in standalone mode.
#
# In 'connected' mode: CP data takes precedence, this is fallback
# In 'standalone' mode: This is the only source of configuration
# =============================================================================

# Domain mappings: devbox.local aliases -> real domains
# Agent uses: curl http://openai.devbox.local/v1/chat/completions
# Envoy rewrites to: https://api.openai.com/v1/chat/completions
domain_mappings:
  # openai.devbox.local: api.openai.com
  # github.devbox.local: api.github.com
  # anthropic.devbox.local: api.anthropic.com

# Credentials for domain-scoped secret injection
# WARNING: In production, use control plane for secret management
# These are only for standalone/development mode
credentials:
  # - domain_pattern: "api.openai.com"
  #   header_name: "Authorization"
  #   header_value: "Bearer sk-your-openai-key"
  #
  # - domain_pattern: "*.github.com"
  #   header_name: "Authorization"
  #   header_value: "token ghp_your-github-token"

# Rate limits per domain (requests per minute)
rate_limits:
  # Default for unknown domains
  default:
    requests_per_minute: 120
    burst_size: 20

  # Domain-specific limits
  # domains:
  #   "api.openai.com":
  #     requests_per_minute: 60
  #     burst_size: 10
  #   "api.github.com":
  #     requests_per_minute: 100
  #     burst_size: 20

# Domain allowlist (only these domains can be accessed)
# Empty list = allow all domains in DNS allowlist
allowed_domains: []
  # - "api.openai.com"
  # - "api.github.com"
  # - "*.anthropic.com"
  # - "pypi.org"
  # - "files.pythonhosted.org"
